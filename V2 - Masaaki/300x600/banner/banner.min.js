function initCSS(){TweenLite.set($("#red-shape-end-frame"),{scaleX:.1,x:30,y:310,overwrite:"none",force3D:!1}),TweenLite.set($("#red-shape-end-frame2"),{autoAlpha:0,rotation:100,x:450,y:350,scaleX:.3,scaleY:.5}),TweenLite.set($("#blue-shape"),{alpha:.9,rotation:0,scaleX:.4,scaleY:.4,x:96,y:65,overwrite:"none",force3D:!1}),TweenLite.set($("#red-shape"),{alpha:.9,rotation:-20,scaleX:.4,scaleY:.4,x:160,y:73,overwrite:"none",force3D:!1}),TweenLite.set($("#mask-shape"),{rotation:30,scaleX:.4,scaleY:.4,x:-2235,y:-1300,overwrite:"none",force3D:!1}),TweenLite.set($(".shapes"),{rotation:190,transformOrigin:"50% 50%",overwrite:"none",force3D:!1}),TweenLite.set($("#white-shape"),{alpha:1,scaleX:.7,scaleY:.7,x:-175,y:450,overwrite:"none",force3D:!1}),TweenLite.set($("#red-shape-base"),{rotation:80,alpha:.82})}function adjustCopyLayout(){$("#destination").text().length>12&&($("#destination").css("fontSize","40px"),$("#destination").css("lineHeight","40px"));var e=$("#f3-copy").outerHeight(!0),a=64+e+20;$(".button").css("top",a)}function startAnimation(){$(".container").show(),$(".loader").hide(),tl=new TimelineLite,tl.to(".shapes",2,{rotation:-10,transformOrigin:"50% 50%",force3D:!0},"0"),tl.from("#red-shape",.5,{rotation:200,transformOrigin:"50% 50%",x:135,y:85,ease:Back.easeOut,force3D:!0},"0"),tl.add(playVideo,"0"),tl.to("#mask-shape",1.5,{rotation:0,scaleX:1.5,scaleY:1.5,x:-2070,y:-1315,ease:Sine.easeInOut,force3D:!0},"0"),tl.to("#red-shape",1,{rotation:-20,scaleX:2,scaleY:2,x:211,y:-20,ease:Sine.easeInOut,force3D:!0},".3"),tl.to("#blue-shape",1,{rotation:-10,scaleX:1.5,scaleY:1.5,x:13,y:177,ease:Sine.easeInOut,force3D:!0},".3"),tl.from("#f1-copy",1.5,{alpha:0,y:10,ease:Sine.easeOut},"1"),tl.to("#mask-shape",.7,{rotation:0,scaleX:3,scaleY:5,x:-1850,y:-1315,ease:Back.easeIn,force3D:!0},"1.1"),tl.to("#blue-shape",.6,{rotation:-70,scaleX:3,scaleY:3,x:-160,y:485,ease:Sine.easeInOut,force3D:!0},"1.4"),tl.to("#red-shape",.6,{rotation:-100,scaleX:4,scaleY:4.5,x:340,y:-295,ease:Sine.easeInOut,force3D:!0},"1.4"),tl.from(".logos-qantas",1,{alpha:0,y:20,ease:Sine.easeOut,force3D:!1},"1.9"),tl.from("#white-shape",2.3,{y:600,ease:Sine.easeOut,force3D:!0},".5"),tl.from("#red-shape-base",1,{y:10,ease:Sine.easeOut,force3D:!0},"1.4"),tl.to("#f1-copy",.5,{alpha:0,ease:Sine.easeIn},"5"),tl.from("#f2-copy",1.5,{alpha:0,ease:Sine.easeOut},"5.6"),tl.to("#f2-copy",.5,{alpha:0,ease:Sine.easeIn},"11.7"),tl.from(["#f2-1-copy","#f2-1-subtext"],1.5,{alpha:0,ease:Sine.easeOut},"12.2"),tl.to("#video-container",1,{alpha:0,ease:Sine.easeOut},"12.2"),tl.to("#red-shape-end-frame2",2.5,{autoAlpha:.4,rotation:50,scaleX:2,scaleY:2,x:230,y:130,ease:Sine.easeOut},"11.2"),tl.to(["#f2-1-copy","#f2-1-subtext"],.5,{alpha:0,ease:Sine.easeIn},"15.7"),tl.from("#f3-copy",1.5,{alpha:0,ease:Sine.easeOut},"16.2"),tl.to("#red-shape-end-frame",3,{autoAlpha:.5,scaleX:.6,scaleY:.6,x:-290,y:10,rotation:-220,ease:Sine.easeOut},"15.2"),tl.to("#red-shape-end-frame2",3,{autoAlpha:.4,rotation:100,scaleX:1.4,scaleY:1.4,x:20,y:160,ease:Sine.easeInOut},"15.2"),tl.to("#white-shape",1.3,{alpha:1,rotation:-3,x:-80,y:470,scaleX:1,scaleY:1,ease:Sine.easeInOut,force3D:!1},"15.7"),tl.to(".logos-qantas",1.3,{x:-4,y:-27,scaleX:.9,scaleY:.9,transformOrigin:"10% 50%",ease:Sine.easeInOut,force3D:!1},"15.7"),tl.from(".logos-partners",1,{alpha:0,y:20,transformOrigin:"30% 50%",scaleX:.5,scaleY:.5,ease:Sine.easeOut},"16.2"),tl.from(".logo-divider",1,{height:"1px",alpha:0,ease:Sine.easeOut},"16.3"),tl.from(".terms-wrapper",1,{alpha:0,ease:Sine.easeOut},"16.9"),tl.from(".button",1.7,{alpha:0,scaleX:.5,scaleY:.5,ease:Expo.easeOut},"16.9")}function playVideo(){document.getElementById("video-container").play()}function preloadimages(e){function a(){o++,o==e.length&&s(t)}for(var t=[],o=0,s=function(){},e="object"!=typeof e?[e]:e,n=0;n<e.length;n++)t[n]=new Image,t[n].src=e[n],t[n].onload=function(){a()},t[n].onerror=function(){a()};return{done:function(e){s=e||s}}}var tl;$(document).ready(function(){var e=["logos-qantas.svg","logos-partners.svg","shape-mask.svg","shape-red.svg","shape-blue.svg","shape-red-end-frame.svg","shape-red-end-frame2.svg","video.mp4"];preloadimages(e).done(function(e){console.log("loaded"),initCSS(),startAnimation(),setTimeout(function(){adjustCopyLayout()},500),$(".overlay-close").click(function(){$(".overlay").hide(),$(".terms-wrapper").show()}),$(".overlay-trigger").click(function(){$(".terms-wrapper").hide(),$(".overlay").show()})})});