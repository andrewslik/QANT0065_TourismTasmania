function initCSS(){TweenLite.set($("#blue-shape"),{alpha:.9,rotation:10,scaleX:.3,scaleY:.3,x:76,y:65,overwrite:"none",force3D:!1}),TweenLite.set($("#red-shape"),{alpha:.9,rotation:-20,scaleX:.3,scaleY:.3,x:130,y:73,overwrite:"none",force3D:!1}),TweenLite.set($("#mask-shape"),{rotation:30,scaleX:.2,scaleY:.2,x:-2235,y:-1275,overwrite:"none",force3D:!1}),TweenLite.set($(".shapes"),{rotation:10,transformOrigin:"50% 50%",overwrite:"none",force3D:!1}),TweenLite.set($("#white-shape"),{alpha:1,scaleX:1,scaleY:1,x:587,y:24,overwrite:"none",force3D:!1}),TweenLite.set($("#red-shape-base"),{scaleX:1.08}),TweenLite.set($("#red-shape-end-frame2"),{autoAlpha:0,rotation:100,y:-200,scaleX:.3,scaleY:.5}),TweenLite.set($("#red-shape-end-frame"),{scaleX:.1,x:20,y:310,overwrite:"none",force3D:!1})}function adjustCopyLayout(){var e=$("#f3-copy").outerWidth(!0),a=15+e+20;$(".button").css("left",a)}function startAnimation(){$(".container").show(),$(".loader").hide(),tl=new TimelineLite,tl.to(".shapes",2,{rotation:-160,transformOrigin:"50% 50%"},"0"),tl.from("#red-shape",.5,{rotation:200,transformOrigin:"50% 50%",x:135,y:85,ease:Back.easeOut},"0"),tl.add(playVideo,"0"),tl.to("#mask-shape",1.5,{rotation:0,scaleX:1.3,scaleY:1.3,x:-2100,y:-1315,ease:Sine.easeInOut},"0"),tl.to("#red-shape",1,{rotation:-80,scaleX:1.5,scaleY:1.5,x:231,y:55,ease:Sine.easeInOut},".3"),tl.to("#blue-shape",1,{rotation:-140,scaleX:1,scaleY:1,x:-4,y:117,ease:Sine.easeInOut},".3"),tl.from("#f1-copy",1.5,{alpha:0,ease:Sine.easeOut},"1.2"),tl.from(".bg-image",2,{alpha:0,ease:Sine.easeOut},"0"),tl.to("#mask-shape",.7,{rotation:0,scaleX:4.2,scaleY:4.2,x:-1650,y:-1315,ease:Back.easeIn},"1.1"),tl.to("#blue-shape",.7,{rotation:-230,scaleX:1.5,scaleY:1.5,x:-360,y:120,ease:Sine.easeOut},"1.45"),tl.to("#red-shape",.7,{rotation:0,scaleX:4,scaleY:4,x:565,y:75,ease:Sine.easeInOut},"1.45"),tl.from(".logos-qantas",1,{alpha:0,y:10,ease:Sine.easeOut},"1.9"),tl.from("#white-shape",2.3,{y:200,ease:Sine.easeOut},".4"),tl.to("#f1-copy",.5,{alpha:0,ease:Sine.easeIn},"5"),tl.from("#f2-copy",1.5,{alpha:0,ease:Sine.easeOut},"5.6"),tl.to("#f2-copy",.5,{alpha:0,ease:Sine.easeIn},"11.2"),tl.from(["#f2-1-copy","#f2-1-subtext"],1.5,{alpha:0,ease:Sine.easeOut},"12.2"),tl.to("#red-shape-end-frame2",2.3,{autoAlpha:.4,rotation:0,scaleX:1,scaleY:1,x:-70,y:-164,ease:Sine.easeOut},"11.5"),tl.to("#video-container",1,{alpha:0,ease:Sine.easeOut},"12.2"),tl.to(["#f2-1-copy","#f2-1-subtext"],.5,{alpha:0,ease:Sine.easeIn},"15.7"),tl.from("#f3-copy",1.5,{alpha:0,ease:Sine.easeOut},"16.2"),tl.to("#red-shape-end-frame",3,{autoAlpha:.3,scaleX:.8,scaleY:.8,x:240,y:560,rotation:-120,ease:Sine.easeOut},"15"),tl.to("#red-shape-end-frame2",3,{autoAlpha:.4,rotation:50,scaleX:1.5,scaleY:1.5,x:130,y:-10,ease:Sine.easeOut},"15.5"),tl.to("#red-shape",.7,{x:895,y:75,ease:Sine.easeIn},"6.7"),tl.to("#white-shape",2,{alpha:1,rotation:-17,x:600,y:-60,scaleX:1,scaleY:1,ease:Sine.easeInOut,force3D:!1},"16.1"),tl.to(".logos-qantas",1.3,{x:0,y:0,scaleX:1,scaleY:1,ease:Sine.easeInOut},"16.1"),tl.from(".logos-partners",2,{alpha:0,y:20,transformOrigin:"100% 50%",scaleX:.5,scaleY:.5,ease:Sine.easeOut},"16.6"),tl.from(".logos",1,{alpha:0,ease:Sine.easeOut},"12.2"),tl.from(".terms-wrapper",1,{alpha:0,ease:Sine.easeOut},"17.2"),tl.from(".button",1.7,{alpha:0,scaleX:.5,scaleY:.5,ease:Expo.easeOut},"17")}function playVideo(){document.getElementById("video-container").play()}function preloadimages(e){function a(){s++,s==e.length&&o(t)}for(var t=[],s=0,o=function(){},e="object"!=typeof e?[e]:e,n=0;n<e.length;n++)t[n]=new Image,t[n].src=e[n],t[n].onload=function(){a()},t[n].onerror=function(){a()};return{done:function(e){o=e||o}}}var tl;$(document).ready(function(){var e=["logos-qantas.svg","logos-partners.svg","shape-mask.svg","shape-red.svg","shape-white.svg","shape-blue.svg","shape-red-end-frame.svg","shape-red-end-frame2.svg"];preloadimages(e).done(function(e){console.log("loaded"),initCSS(),startAnimation(),setTimeout(function(){adjustCopyLayout()},500),$(".overlay-close").click(function(){$(".overlay").hide(),$(".terms-wrapper").show()}),$(".overlay-trigger").click(function(){$(".terms-wrapper").hide(),$(".overlay").show()})})});